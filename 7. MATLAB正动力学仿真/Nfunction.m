function [Nq] = Nfunction(x)
global mbody mthigh mshank mfoot;
global  lt1 lt2 ls1 ls2 lf1 lf2;
global llb llt1 llt2 lls1 lls2;
global rf g;
a1=x(3);
a2=x(4);
a3=x(5);
a11=x(6);
a22=x(7);
b1=x(8);
b2=x(9);

% Nq=[0,0,(-1).*g.*lt1.*mbody.*sin(a1)+(-1).*g.*lt1.*mfoot.*sin(a1)+(-1).*g.* ...
%   lt1.*mshank.*sin(a1)+g.*mthigh.*(llt1.*sin(a1)+(-2).*lt1.*sin(a1)),g.* ...
%   lt2.*mfoot.*sin(a2)+g.*lt2.*mshank.*sin(a2)+g.*llt2.*mthigh.*sin(a2),( ...
%   -1).*g.*llb.*mbody.*sin(a3),(-1).*g.*ls1.*mbody.*sin(a11)+(-1).*g.*ls1.* ...
%   mfoot.*sin(a11)+(-2).*g.*ls1.*mthigh.*sin(a11)+g.*mshank.*(lls1.*sin( ...
%   a11)+(-2).*ls1.*sin(a11)),g.*ls2.*mfoot.*sin(a22)+g.*lls2.*mshank.*sin( ...
%   a22),(-2).*g.*mshank.*((1/2).*lf1.*cos(b1)+(-1).*lf1.*rf.*cos(b1))+(-2) ...
%   .*g.*mthigh.*((1/2).*lf1.*cos(b1)+(-1).*lf1.*rf.*cos(b1))+g.*mbody.*(( ...
%   -1/2).*lf1.*cos(b1)+lf1.*rf.*cos(b1))+g.*mfoot.*((1/2).*lf1.*cos(b1)+( ...
%   -1).*lf1.*rf.*cos(b1)+(-2).*((1/2).*lf1.*cos(b1)+(-1).*lf1.*rf.*cos(b1)) ...
%   ),g.*mfoot.*((1/2).*lf2.*cos(b2)+(-1).*lf2.*rf.*cos(b2))];

Nq=[0,g.*mbody+2.*g.*mfoot+2.*g.*mshank+2.*g.*mthigh,g.*lt1.*mfoot.*sin(a1)+ ...
  g.*lt1.*mshank.*sin(a1)+g.*llt1.*mthigh.*sin(a1),g.*lt2.*mfoot.*sin(a2)+ ...
  g.*lt2.*mshank.*sin(a2)+g.*llt2.*mthigh.*sin(a2),(-1).*g.*llb.*mbody.* ...
  sin(a3),g.*ls1.*mfoot.*sin(a11)+g.*lls1.*mshank.*sin(a11),g.*ls2.* ...
  mfoot.*sin(a22)+g.*lls2.*mshank.*sin(a22),g.*mfoot.*((1/2).*lf1.*cos(b1)+ ...
  (-1).*lf1.*rf.*cos(b1)),g.*mfoot.*((1/2).*lf2.*cos(b2)+(-1).*lf2.*rf.* ...
  cos(b2))];

end

